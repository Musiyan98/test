{"mappings":"AAEA,SAASA,aAEe,SAAXC,EAAmBC,GACxB,IAAIC,EAAiBD,GAA4CE,SAASC,iBAAiB,yBACvFF,GACAA,EAAeG,SAAQ,SAAAC,IAMhB,SAAgBA,GAC3B,IAAIC,EAAiB,KACfC,EAAWC,SAASH,EAAcI,QAAQJ,eAAiBG,SAASH,EAAcI,QAAQJ,eAAiB,IAC3GK,EAAaF,SAASH,EAAcM,WACpCC,EAAgB,EAChBC,EAAO,SAACC,GACLR,IAAgBA,EAAiBQ,GACtC,IAAMC,EAAWC,KAAKC,KAAKH,EAAYR,GAAkBC,EAAU,GACnEF,EAAcM,UAAYK,KAAKE,MAAMH,GAAYH,EAAgBF,IACjES,QAAQC,IAAIV,EAAa,MAAQL,EAAcM,UAAY,eAAiBI,GACxEA,EAAW,GACXM,OAAOC,sBAAsBT,IAGrCQ,OAAOC,sBAAsBT,GAnBrBU,CAAsBlB,MAsBPN,IAGS,IAGhCyB,EAAW,IAAIC,sBAAqB,SAACC,EAASF,GAC9CE,EAAQtB,SAAQ,SAAAuB,GACZ,GAAIA,EAAMC,eAAgB,CACtB,IACM5B,EADgB2B,EAAME,OACc1B,iBAAiB,yBACvDH,EAAoB8B,QACpB/B,EAAmBC,SATrB,CACV+B,UAAW,KAiBA7B,SAASC,iBAAiB,eAE5BC,SAAQ,SAAA4B,GACbR,EAASS,QAAQD,MAtD7BX,OAAOa,iBAAiB,OAAQpC","sources":["src/js/digits-counter.js"],"sourcesContent":["window.addEventListener(\"load\", windowLoad);\n\nfunction windowLoad() {\n    // Функція ініціалізації\n    function digitsCountersInit(digitsCountersItems) {\n        let digitsCounters = digitsCountersItems ? digitsCountersItems : document.querySelectorAll(\"[data-digits-counter]\");\n        if (digitsCounters) {\n            digitsCounters.forEach(digitsCounter => {\n                digitsCountersAnimate(digitsCounter);\n            });\n        }\n    }\n    // Функція анімації\n    function digitsCountersAnimate(digitsCounter) {\n        let startTimestamp = null;\n        const duration = parseInt(digitsCounter.dataset.digitsCounter) ? parseInt(digitsCounter.dataset.digitsCounter) : 1000;\n        const startValue = parseInt(digitsCounter.innerHTML);\n        const startPosition = 0;\n        const step = (timestamp) => {\n            if (!startTimestamp) startTimestamp = timestamp;\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\n            digitsCounter.innerHTML = Math.floor(progress * (startPosition + startValue));\n            console.log(startValue + \" - \" + digitsCounter.innerHTML + \", progress: \" + progress)\n            if (progress < 1) {\n                window.requestAnimationFrame(step);\n            }\n        };\n        window.requestAnimationFrame(step);\n    }\n    // Пуск при завантаженні сторінки\n    digitsCountersInit();\n\n    // //Пуск при скролі (появі блока з лічильниками)\n    let options = {\n        threshold: 0.3\n    }\n    let observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                const targetElement = entry.target;\n                const digitsCountersItems = targetElement.querySelectorAll(\"[data-digits-counter]\");\n                if (digitsCountersItems.length) {\n                    digitsCountersInit(digitsCountersItems);\n                }\n                //  Вимкнути відслідковування після спрацювання\n                //observer.unobserve(targetElement);\n            }\n        });\n\n    }, options);\n\n    let sections = document.querySelectorAll('.advantages');\n    //if (sections.length) {\n        sections.forEach(section => {\n            observer.observe(section);\n        });\n    //}\n}\n"],"names":["windowLoad","digitsCountersInit","digitsCountersItems","digitsCounters","document","querySelectorAll","forEach","digitsCounter","startTimestamp","duration","parseInt","dataset","startValue","innerHTML","startPosition","step","timestamp","progress","Math","min","floor","console","log","window","requestAnimationFrame","digitsCountersAnimate","observer","IntersectionObserver","entries","entry","isIntersecting","target","length","threshold","section","observe","addEventListener"],"version":3,"file":"index.a30cc8f4.js.map"}
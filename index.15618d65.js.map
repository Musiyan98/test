{"mappings":"AAEA,SAASA,aACL,IAAIC,EAAmB,GAGH,SAAXC,EAAmBC,GACxB,IAAIC,EAAiBD,GAA4CE,SAASC,iBAAiB,yBACvFF,GACAA,EAAeG,SAAQ,SAAAC,GACdP,EAAiBO,EAAcC,KAOjC,SAAgBD,GAC3B,IAAIE,EAAiB,KACrBT,EAAiBO,EAAcC,KAAM,EACrC,IAAME,EAAWC,SAASJ,EAAcK,QAAQL,eAAiBI,SAASJ,EAAcK,QAAQL,eAAiB,IAC3GM,EAAaF,SAASJ,EAAcO,WACpCC,EAAgB,EAChBC,EAAO,SAACC,GACLR,IAAgBA,EAAiBQ,GACtC,IAAMC,EAAWC,KAAKC,KAAKH,EAAYR,GAAkBC,EAAU,GACnEH,EAAcO,UAAYK,KAAKE,MAAMH,GAAYH,EAAgBF,IACjES,QAAQC,IAAIV,EAAa,MAAQN,EAAcO,UAAY,eAAiBI,GACxEA,EAAW,EACXM,OAAOC,sBAAsBT,GAE7BhB,EAAiBO,EAAcC,KAAM,GAG7CgB,OAAOC,sBAAsBT,GAvBjBU,CAAsBnB,MA6BF,IAGhCoB,EAAW,IAAIC,sBAAqB,SAACC,EAASF,GAC9CE,EAAQvB,SAAQ,SAAAwB,GACZ,GAAIA,EAAMC,eAAgB,CACtB,IACM7B,EADgB4B,EAAME,OACc3B,iBAAiB,yBACvDH,EAAoB+B,QACpBhC,EAAmBC,SATrB,CACVgC,UAAW,KAiBA9B,SAASC,iBAAiB,eAE5BC,SAAQ,SAAA6B,GACbR,EAASS,QAAQD,MA7D7BX,OAAOa,iBAAiB,OAAQtC","sources":["src/js/digits-counter.js"],"sourcesContent":["window.addEventListener(\"load\", windowLoad);\n\nfunction windowLoad() {\n    let runningAnimation = {};\n\n    // Функція ініціалізації\n    function digitsCountersInit(digitsCountersItems) {\n        let digitsCounters = digitsCountersItems ? digitsCountersItems : document.querySelectorAll(\"[data-digits-counter]\");\n        if (digitsCounters) {\n            digitsCounters.forEach(digitsCounter => {\n                if (!runningAnimation[digitsCounter.id]) {\n                    digitsCountersAnimate(digitsCounter);\n                }\n            });\n        }\n    }\n    // Функція анімації\n    function digitsCountersAnimate(digitsCounter) {\n        let startTimestamp = null;\n        runningAnimation[digitsCounter.id] = true;\n        const duration = parseInt(digitsCounter.dataset.digitsCounter) ? parseInt(digitsCounter.dataset.digitsCounter) : 1000;\n        const startValue = parseInt(digitsCounter.innerHTML);\n        const startPosition = 0;\n        const step = (timestamp) => {\n            if (!startTimestamp) startTimestamp = timestamp;\n            const progress = Math.min((timestamp - startTimestamp) / duration, 1);\n            digitsCounter.innerHTML = Math.floor(progress * (startPosition + startValue));\n            console.log(startValue + \" - \" + digitsCounter.innerHTML + \", progress: \" + progress)\n            if (progress < 1) {\n                window.requestAnimationFrame(step);\n            } else {\n                runningAnimation[digitsCounter.id] = false;\n            }\n        };\n        window.requestAnimationFrame(step);\n    }\n    // Пуск при завантаженні сторінки\n    //digitsCountersInit();\n\n    // //Пуск при скролі (появі блока з лічильниками)\n    let options = {\n        threshold: 0.3\n    }\n    let observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                const targetElement = entry.target;\n                const digitsCountersItems = targetElement.querySelectorAll(\"[data-digits-counter]\");\n                if (digitsCountersItems.length) {\n                    digitsCountersInit(digitsCountersItems);\n                }\n                //  Вимкнути відслідковування після спрацювання\n                //observer.unobserve(targetElement);\n            }\n        });\n\n    }, options);\n\n    let sections = document.querySelectorAll('.advantages');\n    //if (sections.length) {\n        sections.forEach(section => {\n            observer.observe(section);\n        });\n    //}\n}\n"],"names":["windowLoad","runningAnimation","digitsCountersInit","digitsCountersItems","digitsCounters","document","querySelectorAll","forEach","digitsCounter","id","startTimestamp","duration","parseInt","dataset","startValue","innerHTML","startPosition","step","timestamp","progress","Math","min","floor","console","log","window","requestAnimationFrame","digitsCountersAnimate","observer","IntersectionObserver","entries","entry","isIntersecting","target","length","threshold","section","observe","addEventListener"],"version":3,"file":"index.15618d65.js.map"}